var MQuery=function(){function f(t){var e;this.length=0,f.typeOf(t,"function")?(e=f.generateNodeArray(),this.ready(t)):e=f.generateNodeArray(t),this.concat(e)}return f.toArray=function(t){return[].slice.call(t||[])},f.prototype.push=function(t){return t&&t[f.APP_NAME]!==this?(this[this.length++]=t)[f.APP_NAME]=this:this},f.prototype.forEach=function(t){for(var e=0;e<this.length;++e)t(this[e],e,this)},f.prototype.some=function(t){for(var e=this.length-1;0<=e;--e)if(t(this[e],e,this))return!0;return!1},f.prototype.concat=function(t){var e=this;return t.forEach(function(t){e.push(t)}),this},f.isSet=function(t){return void 0!==t},f.typeOf=function(e,t){return t.split(" ").some(function(t){return"array"===t?Array.isArray(e):t===(typeof e).toLowerCase()})},f.instanceOf=function(t,e){return t instanceof e},f.getOrDefault=function(t,e){return f.isSet(t)?t:e},f.snakeToCamelCase=function(t){return t.replace(/(\-\w)/g,function(t){return t[1].toUpperCase()})},f.camelToSnakeCase=function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},f.forEach=function(t,e){[].forEach.call(t,e)},f.forEachObj=function(t,e){for(var n in t)e(n,t[n])},f.codeToNodeList=function(t){return f.AUX_ELEM.innerHTML=t,f.AUX_ELEM.childNodes},f.matches=function(t,e){return!f.isSet(e)||(t.matches?t.matches(e):(f.AUX_ELEM.innerHTML="",f.AUX_ELEM.appendChild(t),!!f.AUX_ELEM.querySelector(e)))},f.hasParent=function(t){return!!t.parentNode&&t.parentNode!==f.AUX_ELEM},f.generateNodeArray=function(e){if(!f.isSet(e))return[];if(f.typeOf(e,"string"))try{return f.toArray(f.DOC.querySelectorAll(e))}catch(t){return f.toArray(f.codeToNodeList(e))}return f.typeOf(e,"array")||f.instanceOf(e,f)?e:[e]},f.setEventsShorthand=function(t){t.forEach(function(e){f.fn[e]=function(t){return f.isSet(t)?this.on(e,t):this.trigger(e)}})},f.export=function(t,e,n){void 0===n&&(n=[]),e.forEach(function(e){t[e]=function(){var t=new f(n);t[e].apply(t,arguments)}})},f.setChildren=function(t,n,r){var e=this;t.forEach(function(t){if(!f.instanceOf(t,f))return f.typeOf(t,"array")?e.setChildren(t,n,r):f.typeOf(t,"string")?r(t):n(t);t.each(function(t,e){if(f.hasParent(e))return r(e.outerHTML);n(e)})})},f.prototype.eachConcat=function(n){var r="";return this.each(function(t,e){r+=n.apply(e,[t,e])+" "}),r.trim()||void 0},f.prototype.leaves=function(){var n=new f([]);return this.each(function(t,e){e.firstChild?f.forEach(e.getElementsByTagName("*"),function(t){t.firstElementChild||n.push(t)}):n.push(e)}),n},f.prototype.ready=function(t){return f.DOC.addEventListener("DOMContentLoaded",t,!0),this},f.prototype.each=function(e){var n=0;return this.forEach(function(t){e.apply(t,[n++,t])}),this},f.prototype.on=function(t,e,n){2===arguments.length&&(n=e);var r=t.split(" ");return(3===arguments.length?this.find(e):this).each(function(t,e){r.forEach(function(t){e.addEventListener(t,n,!0)})}),this},f.prototype.off=function(t,e,n){if(2===arguments.length);var r=t.split(" ");return(3===arguments.length?this.find(e):this).each(function(t,e){r.forEach(function(t){e.removeEventListener(t,n,!0)})}),this},f.prototype.is=function(n){var r=new f([]);return this.each(function(t,e){f.matches(e,n)&&r.push(e)}),r},f.prototype.find=function(n){var r,o=new f([]);return this.each(function(t,e){try{r=e.querySelectorAll(n),o.concat(r)}catch(t){}}),o},f.prototype.parent=function(n){var r=new f([]);return this.each(function(t,e){return!!f.hasParent(e)&&(e=e.parentElement,!!f.matches(e,n)&&(r.push(e),!0))}),r},f.prototype.load=function(t,e,n){var r=new XMLHttpRequest;return r.onreadystatechange=function(){4==this.readyState&&200==this.status&&(document.getElementById("demo").innerHTML=this.responseText)},r.open("GET","ajax_info.txt",!0),r.send(),this},f.prototype.ajax=function(t,o){f.instanceOf(t,Object)?(o=t,t=""):o.url=t;var r={done:[],fail:[]};f.forEachObj(f.AJAX_CONFIG,function(t,e){f.isSet(o[t])||(o[t]=e)});var i=o.xhr();o.beforeSend&&o.beforeSend(i,o);var c=o.context||o,e=o.type||o.method,u=function(t,e,n){var r=i.statusText.replace(/^[\d*\s]/g,"");f.callFn(t,c,[i,e,r]),f.callFn(o.complete,c,[i,e]),o.complete=function(){}},n=function(e,n){f.callFns(r.fail,function(t){u(e,n)})},a={done:function(t){return r.done.push(t),a},fail:function(t){return r.fail.push(t),a},then:function(t,e){return a.done(t),a.fail(e),a},allways:function(t){return a.then(t,t)}};i.open(o.method,o.url,o.async,o.username,o.password),f.isSet(o.mimeType)&&i.overrideMimeType(o.mimeType),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.isSet(o.headers)&&f.forEachObj(o.headers,function(t,e){i.setRequestHeader(t,e)}),!1===o.contentType||"POST"!==e&&"PUT"!==e||i.setRequestHeader("Content-Type",o.contentType),i.timeout=o.timeout,a.then(o.success,o.error),i.onload=function(){f.callFns(r.done,function(t){var e,n,r;200===i.status?(e=t,n=i.response,r=i.statusText.replace(/^[\d*\s]/g,""),f.isSet(o.dataFilter)&&(n=o.dataFilter(n,i.getResponseHeader("Content-Type"))),f.callFn(e,c,[n,r,i]),f.callFn(o.complete,c,[i,"success"]),o.complete=function(){}):u(t,null,i.statusText)})},i.onerror=function(){n("error","Connection error.")},i.ontimeout=function(){n("timeout","Request timed out.")},i.onabort=function(){n("abort","Request aborted.")};var s=o.data;return i.send(s),a},f.callFn=function(t,e,n){void 0===n&&(n=[]),t&&f.typeOf(t,"function")&&t.apply(e,n)},f.callFns=function(t,e){t.forEach(function(t){e(t)})},f.prototype.trigger=function(r,o){return this.each(function(t,e){var n;"focus"!==r?(window&&window.CustomEvent?n=new CustomEvent(r,o):(n=document.createEvent(f.snakeToCamelCase(r))).initCustomEvent(r,!0,!0,o),e.dispatchEvent(n)):e.focus()})},f.prototype.attr=function(n,r){return f.isSet(r)?this.each(function(t,e){f.isSet(e[n])?e[n]=r:e.setAttribute(n,r)}):this.eachConcat(function(t,e){return f.isSet(e[n])?e[n]:e.getAttribute(n)})},f.prototype.removeAttr=function(n){return this.each(function(t,e){e.removeAttribute(n)})},f.prototype.css=function(t,n){var r=this;if(!f.typeOf(t,"string"))return f.forEachObj(t,function(t,e){r.css(t,e)}),this;var o=f.snakeToCamelCase(t);return f.isSet(n)?this.each(function(t,e){e.style[o]=n}):this.eachConcat(function(t,e){return e.style[o]})},f.prototype.text=function(n){return f.isSet(n)?this.each(function(t,e){e.textContent=n}):this.eachConcat(function(t,e){return e.textContent})},f.prototype.html=function(n){return f.isSet(n)?this.each(function(t,e){e.innerHTML=n}):this.eachConcat(function(t,e){return e.innerHTML})},f.prototype.outerHtml=function(n){return f.isSet(n)?this.each(function(t,e){e.outerHTML=n}):this.eachConcat(function(t,e){return e.outerHTML})},f.prototype.children=function(t){var n=new f([]);return this.each(function(t,e){n.concat(e.childNodes)}),t?n.is(t):n},f.prototype.first=function(){return new f(this.length?this[0]:void 0)},f.prototype.last=function(){return new f(this.length?this[this.length-1]:void 0)},f.prototype.siblings=function(n){var r=new f([]);return this.each(function(t,e){f.forEach(e.parentElement.children,function(t){t!==e&&f.matches(t,n)&&r.push(t)})}),r},f.prototype.prev=function(n){var r,o=new f([]);return this.each(function(t,e){for(r=e.previousElementSibling;r&&!f.matches(r,n);)r=r.previousElementSibling;o.push(r)}),o},f.prototype.next=function(n){var r,o=new f([]);return this.each(function(t,e){for(r=e.nextElementSibling;r&&!f.matches(r,n);)r=r.nextElementSibling;o.push(r)}),o},f.prototype.prepend=function(){var n=f.toArray(arguments).reverse();return this.each(function(t,e){f.setChildren(n,function(t){e.insertBefore(t,e.firstChild)},function(t){e.insertAdjacentHTML("afterbegin",t)})})},f.prototype.append=function(){var n=f.toArray(arguments);return this.each(function(t,e){f.setChildren(n,function(t){e.appendChild(t)},function(t){e.insertAdjacentHTML("beforeend",t)})})},f.prototype.data=function(t,e){return f.isSet(e)?this.attr("data-"+t,e):this.attr("data-"+t)},f.prototype.val=function(t){return f.isSet(t)?this.attr("value",t):this.attr("value")},f.prototype.addClass=function(n){return this.each(function(t,e){e.classList.add(n)})},f.prototype.removeClass=function(n){return this.each(function(t,e){e.classList.remove(n)})},f.prototype.hasClass=function(e){return this.some(function(t){return t.classList.contains(e)})},f.prototype.toggleClass=function(n){return this.each(function(t,e){e.classList.toggle(n)})},f.prototype.remove=function(n){var r=new f;return this.each(function(t,e){f.matches(e,n)?e.outerHTML="":r.push(e)}),r},f.prototype.empty=function(){return this.each(function(t,e){e.innerHTML=""})},f.prototype.width=function(){if(this.length)return this[0].clientWidth},f.prototype.height=function(){if(this.length)return this[0].clientHeight},f.APP_NAME="mQuery",f.DOC=document,f.AUX_ELEM=f.DOC.createElement("_"+f.APP_NAME+"_"),f.fn=f.prototype,f.AJAX_CONFIG={contentType:"application/x-www-form-urlencoded; charset=UTF-8",method:"GET",statusCode:{},xhr:function(){return new XMLHttpRequest},url:"",headers:{},async:!0},f}(),m$=function(t){return new MQuery(t)},mQuery=m$;MQuery.export(m$,["ready","load"]);